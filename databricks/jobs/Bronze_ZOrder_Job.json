{
  "name": "Bronze_ZOrder_Job",
  "description": "Databricks job to co-locate related data within Parquet files using Z-ordering for faster queries.",
  "tasks": [
    {
      "task_key": "Run_Bronze_ZOrder_Optimization",
      "notebook_task": {
        "notebook_path": "/Shared/bronze_pipeline/optimization/bronze_zorder_notebook",
        "base_parameters": {}
      },
      "job_cluster_key": "bronze_optimize_cluster",
      "timeout_seconds": 7200,
      "max_retries": 1,
      "min_retry_interval_millis": 60000,
      "retry_on_timeout": true
    }
  ],
  "job_clusters": [
    {
      "job_cluster_key": "bronze_optimize_cluster",
      "new_cluster": {
        "spark_version": "14.3.x-photon-scala2.12",
        "node_type_id": "Standard_DS3_v2",
        "autoscale": {
          "min_workers": 1,
          "max_workers": 4
        },
        "azure_attributes": {
          "first_on_demand": 1,
          "spot_bid_max_price": -1
        },
        "spark_env_vars": {
          "PYSPARK_PYTHON": "/databricks/python3/bin/python"
        },
        "spark_conf": {
          "spark.databricks.io.cache.enabled": "true"
        },
        "custom_tags": {
          "JobCategory": "BronzeOptimization",
          "JobName": "Bronze_ZOrder_Job"
        },
        "data_security_mode": "SINGLE_USER",
        "runtime_engine": "PHOTON"
      }
    }
  ],
  "schedule": {
    "quartz_cron_expression": "0 0 2 1 * ? *",
    "timezone_id": "UTC",
    "pause_status": "UNPAUSED"
  },
  "max_concurrent_runs": 1,
  "git_source": {
    "git_url": "https://dev.azure.com/your-org/your-project/_git/myntra-clv-repo",
    "git_provider": "azureDevOpsServices",
    "git_branch": "main",
    "git_sub_directory": "myntra-clv/databricks"
  },
  "tags": {
    "category": "Databricks Jobs",
    "operation": "Z-ORDER",
    "priority": "low"
  },
  "format": "MULTI_TASK"
}